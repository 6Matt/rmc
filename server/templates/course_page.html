{% extends 'base_page.html' %}

{% block stylesheets %}
  <link rel="stylesheet" href="/static/css/course_page.css">
{% endblock %}

{% block header %}
  <h1>Browse Courses</h1>
{% endblock %}

{% block body %}
  <div class="row-fluid">
    <div class="span12">
      <div id="search-form-container">
      </div>
      <div id="courses-container">
      </div>
    </div>
  </div>
{% endblock %}

{% block footer %}
{% endblock %}

{% block templates %}
  {% include 'course.html' %}
  {% include 'ratings.html' %}

  <script>
    var pageData = {
      sortModes: {{ sort_modes|tojson|safe }},
      directions: {{ directions|tojson|safe }}
    };
  </script>

  <!-- TODO(mack): add to own file? -->
  <script type="text/html" id="search-form-tpl">
    <!-- TODO(mack): add search icon -->
    Sorted
    <li class="sort-mode-dropdown dropdown">
      <a class="dropdown-toggle" role="button" data-toggle="dropdown" href="#">
        <span class="selected-sort-mode"><%- selectedSortMode.name %></span>
        <b class="caret"></b>
      </a>
      <ul class="dropdown-menu" role="menu">
      <% _.each(sortModes, function(sortMode) { %>
        <li data-value="<%- sortMode.value %>">
          <a href="#"><%-sortMode.name %></a>
        </li>
      <% }); %>
      </ul>
    </li>
    in
    <li class="order-dropdown dropdown">
      <a class="dropdown-toggle" role="button" data-toggle="dropdown" href="#">
        <span class="selected-direction"><%- selectedDirection.name %></span>
        <b class="caret"></b>
      </a>
      <ul class="dropdown-menu" role="menu">
      <% _.each(directions, function(direction) { %>
        <li data-value="<%- direction['value'] %>">
          <a href="#"><%- direction.name %></a>
        </li>
      <% }); %>
      </ul>
    </li>
    order
    <input type="search" class="keywords search-query" placeholder="Keywords...">
  </script>
{% endblock %}

{% block scripts %}
  <script>
    require(['/static/js/course_page.js']);
  </script>
{% endblock %}
