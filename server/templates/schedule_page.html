{% extends 'base_profile_page.html' %}

{% import 'macros.html' as macros %}

{% block stylesheets %}
  <link rel="stylesheet" href="{{ '/static/css/schedule_page.css'|version }}">
  <link id="schedule-print-css" rel="stylesheet"
    {% if show_printable %}
      media="print,screen"
    {% else %}
      media="print"
    {% endif %}
      href="{{ '/static/css/schedule_page_print.css'|version }}">
{% endblock %}

{% block head_scripts %}
<!-- Google Analytics Content Experiment code -->
<script>function utmx_section(){}function utmx(){}(function(){var
k='64363987-5',d=document,l=d.location,c=d.cookie;
if(l.search.indexOf('utm_expid='+k)>0)return;
function f(n){if(c){var i=c.indexOf(n+'=');if(i>-1){var j=c.
indexOf(';',i);return escape(c.substring(i+n.length+1,j<0?c.
length:j))}}}var x=f('__utmx'),xx=f('__utmxx'),h=l.hash;d.write(
'<sc'+'ript src="'+'http'+(l.protocol=='https:'?'s://ssl':
'://www')+'.google-analytics.com/ga_exp.js?'+'utmxkey='+k+
'&utmx='+(x?x:'')+'&utmxx='+(xx?xx:'')+'&utmxtime='+new Date().
valueOf()+(h?'&utmxhash='+escape(h.substr(1)):'')+
'" type="text/javascript" charset="utf-8"><\/sc'+'ript>')})();
</script><script>utmx('url','A/B');</script>
<!-- End of Google Analytics Content Experiment code -->
{% endblock %}

{% block page_title %}
  {{ profile_obj['name'] }}'s Schedule
{% endblock %}

{% block sidebar %}
  <hr class="divider">
  <div class="row-fluid">
    <div class="span12">
      {% if current_user_id %}
        {# TODO(mack): write js to enable button #}
        <a href="/profile/{{ profile_user_id }}"
          class="view-profile-btn btn btn-large btn-primary">
          View {{ profile_obj['first_name'] }}'s full profile
        </a>
      {% endif %}
    </div>
  </div>
{% endblock %}

{% block content %}
  <div id="class-schedule-placeholder"></div>
{% endblock %}

{% block templates %}
  {% include 'schedule.html' %}
  {% include 'sign_in.html' %}
{% endblock %}

{% block scripts %}
<script>
  window.pageData.userObjs = {{ user_objs|tojson|safe }};
  window.pageData.courseObjs = {{ course_objs|tojson|safe }};
  window.pageData.profileUserId = {{ profile_user_id|tojson|safe }};
  window.pageData.scheduleItemObjs = {{ schedule_item_objs|tojson|safe }};
</script>
{% endblock %}
